.text
0		CALL 45
1		PUTNUM R0
2		HALT
3		PUSH BP
4		MOV BP, SP # ↑Int
5		SUB SP, 1 # ↑Int
6		MOV R1, [BP + 2] # Int
7		MOV R2, 0 # Int
8		CMP R1, R2
9		JNZ 13
10		MOV R3, 1 # Int
11		MOV [BP + -1], R3 # Int
12		JMP 40
13		MOV R4, [BP + 2] # Int
14		MOV R5, 1 # Int
15		CMP R4, R5
16		JNZ 20
17		MOV R6, 0 # Int
18		MOV [BP + -1], R6 # Int
19		JMP 40
20		MOV R7, 2 # Int
21		MOV R8, [BP + 2] # Int
22		MOV R9, 0 # Int
23		CMP R7, R8
24		JLE 26
25		MOV R9, 1 # Int
26		CMP R9, 0
27		JNZ 40
28		MOV R10, [BP + 2] # Int
29		MOV R11, 1 # Int
30		SUB R10, R11 # Int
31		PUSH R10
32		CALL 3
33		SUB SP, 1 # ↑Int
34		MOV R12, 0 # Int
35		CMP R0, 0
36		JNZ 38
37		MOV R12, 1 # Int
38		MOV [BP + -1], R12 # Int
39		JMP 40
40		MOV R13, [BP + -1] # Int
41		MOV SP, BP # ↑Int
42		POP BP # ↑Int
43		MOV R0, R13 # ◇
44		RET
45		PUSH BP
46		MOV BP, SP # ↑Int
47		SUB SP, 3 # ↑Int
48		MOV R14, 1000 # Int
49		MOV [BP + -2], R14 # Int
50		MOV R15, 0 # Int
51		MOV [BP + -1], R15 # Int
52		MOV R16, 0 # Int
53		MOV [BP + -3], R16 # Int
54		MOV R17, [BP + -2] # Int
55		MOV R18, [BP + -1] # Int
56		CMP R17, R18
57		JLE 74
58		MOV R19, [BP + -1] # Int
59		PUSH R19
60		CALL 3
61		SUB SP, 1 # ↑Int
62		CMP R0, 0
63		JZ 69
64		MOV R20, [BP + -3] # Int
65		MOV R21, [BP + -1] # Int
66		ADD R20, R21 # Int
67		MOV [BP + -3], R20 # Int
68		JMP 69
69		MOV R22, [BP + -1] # Int
70		MOV R23, 1 # Int
71		ADD R22, R23 # Int
72		MOV [BP + -1], R22 # Int
73		JMP 54
74		MOV R24, [BP + -3] # Int
75		MOV SP, BP # ↑Int
76		POP BP # ↑Int
77		MOV R0, R24 # ◇
78		RET
